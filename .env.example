# Running Days - Environment Configuration
# ============================================================================
# Copy this file to .env and update values for your environment

# ============================================================================
# GENERAL
# ============================================================================
NODE_ENV=development

# ============================================================================
# API SERVER (apps/api)
# ============================================================================

# Server binding
PORT=3001
HOST=0.0.0.0

# Database path (SQLite)
# In dev: relative to apps/api, defaults to ../../data/running-days.db
# In prod: absolute path, defaults to /data/running-days.db
DATABASE_PATH=data/running-days.db

# JWT Configuration
# REQUIRED in production - must be at least 32 characters
# In dev: uses a default insecure secret
JWT_SECRET=your-secure-jwt-secret-at-least-32-characters

# Token expiry settings
ACCESS_TOKEN_EXPIRY=15m
REFRESH_TOKEN_EXPIRY_DAYS=7

# Cookie settings
# COOKIE_DOMAIN=.yourdomain.com  # Uncomment for cross-subdomain cookies
# Cookie secure flag is automatically set based on NODE_ENV

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=1 minute

# ============================================================================
# APPLE SIGN-IN (REQUIRED in production)
# ============================================================================
# Get these from Apple Developer Portal > Certificates, Identifiers & Profiles

# Your Services ID (e.g., com.yourdomain.running-days.signin)
APPLE_CLIENT_ID=

# Your Team ID (10-character string from Apple Developer account)
APPLE_TEAM_ID=

# Key ID for your Sign in with Apple key
APPLE_KEY_ID=

# Private key content (include the BEGIN/END lines, use \n for line breaks)
APPLE_PRIVATE_KEY=

# Redirect URI after Apple authentication (must match Apple Developer config)
APPLE_REDIRECT_URI=http://localhost:5173/auth/apple/callback

# ============================================================================
# DASHBOARD (apps/dashboard)
# ============================================================================

# URL of the API server
API_BASE_URL=http://localhost:3001

# ============================================================================
# SWAGGER/OPENAPI (optional)
# ============================================================================
# Enable Swagger UI in production (disabled by default)
# ENABLE_SWAGGER=true
