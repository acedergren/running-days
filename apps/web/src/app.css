/* =============================================================================
   RUNNING DAYS - Design System
   Bioluminescence-inspired theme with energetic orange/coral accents
   ============================================================================= */

/* Self-hosted fonts */
@import "@fontsource-variable/inter";
@import "@fontsource/space-grotesk/400.css";
@import "@fontsource/space-grotesk/500.css";
@import "@fontsource/space-grotesk/600.css";
@import "@fontsource/space-grotesk/700.css";
@import "@fontsource/jetbrains-mono/400.css";

/* Tailwind CSS 4 */
@import "tailwindcss";

/* =============================================================================
   DESIGN TOKENS - OKLCH Color System
   ============================================================================= */

@layer base {
  :root {
    /* Typography */
    --font-body: "Inter Variable", ui-sans-serif, system-ui, sans-serif;
    --font-display: "Space Grotesk", ui-sans-serif, system-ui, sans-serif;
    --font-mono: "JetBrains Mono", ui-monospace, monospace;

    /* Spacing */
    --spacing-1: 0.25rem;
    --spacing-2: 0.5rem;
    --spacing-3: 0.75rem;
    --spacing-4: 1rem;
    --spacing-6: 1.5rem;
    --spacing-8: 2rem;

    /* Radius */
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.25rem;
    --radius-3xl: 1.5rem;
    --radius-full: 9999px;

    /* Transitions */
    --duration-fast: 150ms;
    --duration-normal: 250ms;
    --duration-slow: 400ms;
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  }

  /* Dark Mode (Default) */
  :root,
  .dark {
    color-scheme: dark;

    /* Neutral Scale - Warm undertone for sophisticated dark UI */
    --color-neutral-50: oklch(0.98 0.01 60);
    --color-neutral-100: oklch(0.96 0.01 60);
    --color-neutral-200: oklch(0.90 0.01 60);
    --color-neutral-300: oklch(0.80 0.015 60);
    --color-neutral-400: oklch(0.65 0.015 60);
    --color-neutral-500: oklch(0.50 0.01 60);
    --color-neutral-600: oklch(0.40 0.01 60);
    --color-neutral-700: oklch(0.30 0.01 60);
    --color-neutral-800: oklch(0.20 0.01 60);
    --color-neutral-850: oklch(0.15 0.01 60);
    --color-neutral-900: oklch(0.12 0.01 60);
    --color-neutral-950: oklch(0.08 0.005 60);
    --color-neutral-1000: oklch(0.05 0.005 60);

    /* Surface Tokens */
    --surface-ground: var(--color-neutral-1000);
    --surface-base: var(--color-neutral-950);
    --surface-raised: var(--color-neutral-900);
    --surface-overlay: var(--color-neutral-850);
    --surface-elevated: var(--color-neutral-800);

    /* Text Tokens */
    --text-primary: var(--color-neutral-50);
    --text-secondary: var(--color-neutral-300);
    --text-muted: var(--color-neutral-400);
    --text-disabled: var(--color-neutral-500);

    /* Border Tokens */
    --border-subtle: oklch(0.3 0.01 60 / 0.4);
    --border-default: oklch(0.4 0.01 60 / 0.5);
    --border-strong: oklch(0.5 0.01 60 / 0.6);

    /* Running Theme - Energetic Orange/Coral */
    --hue-primary: 25;
    --hue-secondary: 15;
    --hue-tertiary: 35;

    /* Accent Colors */
    --accent-primary: oklch(0.72 0.2 25);
    --accent-primary-hover: oklch(0.78 0.22 25);
    --accent-primary-active: oklch(0.68 0.18 25);
    --accent-glow: oklch(0.72 0.2 25 / 0.4);

    /* Gradient for primary buttons/highlights */
    --gradient-accent: linear-gradient(135deg, oklch(0.72 0.22 30) 0%, oklch(0.65 0.2 15) 100%);
    --gradient-accent-hover: linear-gradient(135deg, oklch(0.78 0.24 30) 0%, oklch(0.70 0.22 15) 100%);

    /* Status Colors */
    --color-success: oklch(0.72 0.2 145);
    --color-success-muted: oklch(0.45 0.12 145 / 0.3);
    --color-warning: oklch(0.82 0.18 85);
    --color-warning-muted: oklch(0.5 0.12 85 / 0.3);
    --color-error: oklch(0.65 0.25 25);
    --color-error-muted: oklch(0.45 0.15 25 / 0.3);

    /* Focus Ring */
    --focus-ring: 0 0 0 3px oklch(0.72 0.2 25 / 0.35);

    /* shadcn/ui compatibility */
    --background: var(--surface-ground);
    --foreground: var(--text-primary);
    --card: var(--surface-raised);
    --card-foreground: var(--text-primary);
    --primary: var(--accent-primary);
    --primary-foreground: oklch(1 0 0);
    --secondary: var(--surface-raised);
    --secondary-foreground: var(--text-primary);
    --muted: var(--surface-base);
    --muted-foreground: var(--text-muted);
    --accent: var(--accent-primary);
    --accent-foreground: oklch(1 0 0);
    --destructive: var(--color-error);
    --border: var(--border-default);
    --input: var(--surface-raised);
    --ring: var(--accent-primary);
    --radius: var(--radius-lg);
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: var(--font-body);
    background: var(--surface-ground);
    color: var(--text-primary);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    position: relative;
  }

  /* Lovable-inspired gradient mesh background */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background:
      radial-gradient(ellipse 80% 50% at 20% -10%, oklch(0.35 0.15 25 / 0.4) 0%, transparent 50%),
      radial-gradient(ellipse 60% 40% at 80% 10%, oklch(0.30 0.12 35 / 0.3) 0%, transparent 45%),
      radial-gradient(ellipse 50% 80% at 90% 80%, oklch(0.25 0.10 15 / 0.25) 0%, transparent 50%),
      radial-gradient(ellipse 70% 50% at 10% 90%, oklch(0.20 0.08 30 / 0.2) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
  }

  /* Subtle noise texture overlay */
  body::after {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.015;
    pointer-events: none;
    z-index: 0;
  }
}

/* =============================================================================
   KEYFRAME ANIMATIONS - Apple Fitness & Strava inspired
   ============================================================================= */

@keyframes ring-fill {
  from { stroke-dashoffset: var(--circumference); }
  to { stroke-dashoffset: var(--target-offset); }
}

@keyframes ring-pulse {
  0%, 100% { filter: drop-shadow(0 0 8px oklch(0.72 0.2 25 / 0.4)); }
  50% { filter: drop-shadow(0 0 20px oklch(0.72 0.25 25 / 0.6)); }
}

@keyframes count-up {
  from { opacity: 0; transform: translateY(10px) scale(0.9); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes card-enter {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes sparkle {
  0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
  50% { opacity: 1; transform: scale(1) rotate(180deg); }
}

@keyframes breathe {
  0%, 100% { transform: scale(1); opacity: 0.6; }
  50% { transform: scale(1.05); opacity: 1; }
}

/* =============================================================================
   COMPONENT STYLES
   ============================================================================= */

@layer components {
  /* Glass Card Effect - Enhanced */
  .glass-card {
    background: linear-gradient(
      135deg,
      oklch(from var(--surface-raised) l c h / 0.85) 0%,
      oklch(from var(--surface-raised) l c h / 0.7) 100%
    );
    backdrop-filter: blur(16px) saturate(1.2);
    border: 1px solid oklch(1 0 0 / 0.08);
    border-radius: var(--radius-2xl);
    box-shadow:
      0 4px 24px oklch(0 0 0 / 0.3),
      inset 0 1px 0 oklch(1 0 0 / 0.05);
  }

  /* Progress Ring - Enhanced with animations */
  .progress-ring {
    transform: rotate(-90deg);
    filter: drop-shadow(0 0 12px oklch(0.72 0.2 25 / 0.35));
  }

  .progress-ring-circle {
    stroke-linecap: round;
    animation: ring-fill 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  .progress-ring-bg {
    stroke: oklch(0.2 0.02 25 / 0.5);
  }

  .progress-ring-glow {
    animation: ring-pulse 3s ease-in-out infinite;
  }

  /* Hero Number - Apple Fitness style large numbers */
  .hero-number {
    font-family: var(--font-display);
    font-weight: 700;
    font-size: clamp(3.5rem, 12vw, 5rem);
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.03em;
    line-height: 1;
    background: linear-gradient(
      180deg,
      oklch(0.98 0.01 60) 0%,
      oklch(0.85 0.02 60) 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: count-up 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  /* Stat Card - Refined with better hierarchy */
  .stat-card {
    background: linear-gradient(
      145deg,
      var(--surface-raised) 0%,
      oklch(from var(--surface-raised) calc(l - 0.02) c h) 100%
    );
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-xl);
    padding: var(--spacing-4) var(--spacing-6);
    position: relative;
    overflow: hidden;
    transition:
      border-color var(--duration-normal) var(--ease-out),
      transform var(--duration-normal) var(--ease-out),
      box-shadow var(--duration-normal) var(--ease-out);
  }

  .stat-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      oklch(0.72 0.2 25 / 0) 0%,
      oklch(0.72 0.2 25 / 0.08) 100%
    );
    opacity: 0;
    transition: opacity var(--duration-normal) var(--ease-out);
  }

  .stat-card:hover {
    border-color: oklch(0.72 0.2 25 / 0.4);
    transform: translateY(-3px);
    box-shadow:
      0 8px 32px oklch(0 0 0 / 0.3),
      0 0 0 1px oklch(0.72 0.2 25 / 0.15);
  }

  .stat-card:hover::before {
    opacity: 1;
  }

  /* Stat Value - Large prominent numbers */
  .stat-value {
    font-family: var(--font-display);
    font-weight: 700;
    font-size: 2rem;
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.02em;
    line-height: 1.1;
    color: var(--text-primary);
  }

  .stat-unit {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-muted);
    margin-left: 0.25rem;
  }

  .stat-label {
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-muted);
  }

  /* Activity Card - Strava inspired */
  .activity-card {
    background: var(--surface-raised);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-xl);
    padding: var(--spacing-4) var(--spacing-6);
    display: grid;
    grid-template-columns: 1fr auto;
    gap: var(--spacing-4);
    align-items: center;
    position: relative;
    transition:
      background var(--duration-fast) var(--ease-out),
      border-color var(--duration-fast) var(--ease-out);
  }

  .activity-card:hover {
    background: var(--surface-overlay);
    border-color: var(--border-default);
  }

  .activity-card::after {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 60%;
    background: var(--gradient-accent);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    opacity: 0;
    transition: opacity var(--duration-fast) var(--ease-out);
  }

  .activity-card:hover::after {
    opacity: 1;
  }

  /* Pace Badge - Prominent pace display */
  .pace-badge {
    font-family: var(--font-mono);
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--accent-primary);
    background: oklch(0.72 0.2 25 / 0.12);
    padding: 0.375rem 0.75rem;
    border-radius: var(--radius-lg);
    border: 1px solid oklch(0.72 0.2 25 / 0.2);
  }

  /* Status Pill - Enhanced */
  .status-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.375rem 0.875rem;
    border-radius: var(--radius-full);
    font-size: 0.8125rem;
    font-weight: 600;
    transition: transform var(--duration-fast) var(--ease-out);
  }

  .status-pill:hover {
    transform: scale(1.02);
  }

  .status-pill-success {
    background: oklch(0.72 0.2 145 / 0.15);
    color: oklch(0.78 0.18 145);
    border: 1px solid oklch(0.72 0.2 145 / 0.25);
  }

  .status-pill-warning {
    background: oklch(0.82 0.18 85 / 0.15);
    color: oklch(0.85 0.16 85);
    border: 1px solid oklch(0.82 0.18 85 / 0.25);
  }

  /* Glow Effect - Enhanced */
  .glow-accent {
    filter: drop-shadow(0 0 24px oklch(0.72 0.2 25 / 0.35));
  }

  /* Number Display */
  .number-display {
    font-family: var(--font-display);
    font-weight: 700;
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.02em;
  }

  /* Section Header */
  .section-header {
    font-family: var(--font-display);
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--text-muted);
    margin-bottom: var(--spacing-4);
  }

  /* Divider with gradient */
  .divider-glow {
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      oklch(0.72 0.2 25 / 0.4) 50%,
      transparent 100%
    );
    margin: var(--spacing-6) 0;
  }

  /* Animation delays for staggered entrance */
  .animate-in { animation: card-enter 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; opacity: 0; }
  .delay-1 { animation-delay: 0.1s; }
  .delay-2 { animation-delay: 0.2s; }
  .delay-3 { animation-delay: 0.3s; }
  .delay-4 { animation-delay: 0.4s; }
  .delay-5 { animation-delay: 0.5s; }
}

/* =============================================================================
   UTILITIES
   ============================================================================= */

@layer utilities {
  .font-display {
    font-family: var(--font-display);
  }

  .font-mono {
    font-family: var(--font-mono);
  }

  /* Custom scrollbar */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--color-neutral-700) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: var(--color-neutral-700);
    border-radius: var(--radius-full);
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: var(--color-neutral-600);
  }
}
